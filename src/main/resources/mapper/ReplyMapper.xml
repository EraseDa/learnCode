<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "https://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.practice.Dec.mapper.ReplyMapper">    <!-- 17.2.3 CRUD작업 : 등록 / public int insert(ReplyVO); -->    <insert id="insert">        INSERT INTO jw_tbl_reply (rno, bno,reply,replyer)<!--replier스펠링 겁나신경쓰이네...-->        VALUES (jw_seq_reply.nextval,#{bno},#{reply}, #{replyer})    </insert>    <!-- //17.2.3 CRUD작업 : 조회 / public ReplyVO read(Long bno); -->    <select id="read">        SELECT *        FROM jw_tbl_reply        WHERE rno = #{rno}    </select>    <!-- //17.2.3 CRUD작업 : 삭제 / public int delete(Long rno);-->    <delete id="delete">        DELETE        FROM jw_tbl_reply        WHERE rno = #{rno}    </delete>    <!-- //17.2.3 CRUD작업 : 수정 / public int update(ReplyVO reply); -->    <update id="update">        UPDATE jw_tbl_reply        SET            reply = #{reply},            updateDate = sysdate        WHERE rno = #{rno}    </update>    <!-- 17.2.4 @Param 어노테이션과 댓글 목록 : 일단 특정 게시물의 댓글을 가져오기 -->    <!--    <select id="getListWithPaging" resultType="ReplyVO">        SELECT            rno, bno, reply, replyer, replyDate, updateDate        FROM jw_tbl_reply        WHERE bno = #{bno}        ORDER BY rno ASC    </select>    -->    <!-- #{bno}는 @Param("bno")와 매칭되어 사용됨 -->    <!-- 17.6.2 인덱스를 이용한 페이징 쿼리 : amount 개씩 pageNum 페이지를 가져오는 쿼리 -->    <select id="getListWithPaging" resultType="ReplyVO">    <![CDATA[        SELECT rno, bno, reply, replyer, replyDate, updatedate        FROM (            SELECT /*+ index(jw_tbl_reply jw_idx_reply) */                rownum rn, rno, bno, reply, replyer, replyDate, updatedate            FROM jw_TBL_REPLY            WHERE bno = #{bno}            AND rno > 0            AND rownum <= #{cri.pageNum} * #{cri.amount}        ) WHERE rn > ( #{cri.pageNum} - 1) * #{cri.amount}    ]]>    </select>    <!-- 17.6.3 댓글의 숫자 파악 -->    <select id="getCountByBno" resultType="int">    <![CDATA[        select count(rno) from jw_tbl_reply where bno = #{bno}    ]]>    </select></mapper>